{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">

    <title>vA News Platform</title>
    <link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}">
    <link rel="mask-icon" type="image/png" href="{% static 'logo.svg' %}" color='white'>
    <link rel="apple-touch-icon" type="image/png" href="{% static 'logo.png' %}">
    <link rel="icon" href="{% static 'logo.png' %}">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"></script>

    <style>

        @media (prefers-color-scheme: light) {
            a:link {
                color: #3A3B3C;
            }
        }

        @media (prefers-color-scheme: dark) {
            a:link {
                color: #dee2e6;
            }
        }


        /* visited link */
        a:visited {
            color: #800080;
        }

        /* mouse over link */
        a:hover {
            color: #0a58ca;
        }

        /* selected link */
        a:active {
            color: #800000;
        }


        /* small  Modal */
        @media screen and (max-width: 600px) {
            #modaltext {
                width: inherit;
                padding: 20px;
                margin: 10px;
            }
        }

        /* normal widescreen Modal */
        @media screen and (min-width: 601px) {
            #modaltext {
                max-width: 800px;
                width: 80%;
                padding: 48px;
            }
        }
    </style>

</head>
<body class="bg-body-tertiary">
<!-- The Modal -->
<div id="myModal" class="modal" style="display: block;">
    <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalPublisher">{{ article.publisher__name }}</h5>
                <button type="button" class="btn-close close" data-mdb-dismiss="modal" aria-label="Close"
                        onclick="history.back();"></button>
            </div>
            <div class="modal-body bg-body-tertiary">
                <div id="modaltext" class="mx-auto my-3 bg-body rounded shadow-sm">
                    <h2 id="modalTitle" style="font-family: Georgia, serif; font-weight: bold;">{{ article.title }}</h2>
                    <div id="modalSummary" class="lead pb-2" style="font-family: Georgia, serif;">{{ article.summary }}</div>
                    <div id="modalIMG" class="pb-2" style="text-align: center;"><img src="{{ article.image_url }}" style="max-width: 100%; max-height: 80vh; object-fit: cover;"></div>
                    <div id="modalFullText" style="font-family: Georgia, serif;">{{ article.full_text }}</div>
                </div>
            </div>

            <div class="modal-footer">
                <a id="modalEmail" class="btn btn-outline-danger" href="{{ article.email__link }}" role="button" style="color: #FFFFFF;" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-at" viewBox="0 0 16 16">
                      <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>
                      <path d="M14.247 14.269c1.01 0 1.587-.857 1.587-2.025v-.21C15.834 10.43 14.64 9 12.52 9h-.035C10.42 9 9 10.36 9 12.432v.214C9 14.82 10.438 16 12.358 16h.044c.594 0 1.018-.074 1.237-.175v-.73c-.245.11-.673.18-1.18.18h-.044c-1.334 0-2.571-.788-2.571-2.655v-.157c0-1.657 1.058-2.724 2.64-2.724h.04c1.535 0 2.484 1.05 2.484 2.326v.118c0 .975-.324 1.39-.639 1.39-.232 0-.41-.148-.41-.42v-2.19h-.906v.569h-.03c-.084-.298-.368-.63-.954-.63-.778 0-1.259.555-1.259 1.4v.528c0 .892.49 1.434 1.26 1.434.471 0 .896-.227 1.014-.643h.043c.118.42.617.648 1.12.648Zm-2.453-1.588v-.227c0-.546.227-.791.573-.791.297 0 .572.192.572.708v.367c0 .573-.253.744-.564.744-.354 0-.581-.215-.581-.8Z"/>
                    </svg>
                    Share</a>
                <a id="modalTeams" class="btn btn-outline-info me-auto" href="{{ article.teams__link }}" role="button" style="color: #FFFFFF;" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16">
                      <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                      <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"/>
                    </svg>
                    Share</a>
                <button type="button" class="btn btn-secondary" data-mdb-dismiss="modal" onclick="history.back();">Close</button>
                <a id="modalLink" class="btn btn-primary" href="{{ article.link }}" role="button" style="color: #FFFFFF;" target="_blank">Go to Article</a>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        // dark mode
        document.documentElement.setAttribute('data-bs-theme', 'dark');
        var links = document.getElementsByClassName('link-dark');
        while (links.length > 0) {
            links[0].classList.add("link-light");
            links[0].classList.remove("link-dark");
        }
        var textlst = document.getElementsByClassName('text-dark');
        while (textlst.length > 0) {
            textlst[0].classList.add("text-light");
            textlst[0].classList.remove("text-dark");
        }
    } else {
        // light mode
        document.documentElement.setAttribute('data-bs-theme', 'light');
    }
</script>
</html>